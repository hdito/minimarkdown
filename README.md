# Minimarkdown
Минималистичный текстовый редактор с поддержкой Markdown.

## Настройка рабочей среды
Чтобы работать над Minimarkdown, вам потребуется новый проект [Firebase](https://console.firebase.google.com/) с подключенными Firestore Database и анонимной аутентификацией, [Firebase CLI](https://firebase.google.com/docs/cli) и Node.js.

1. Откройте терминал в папке, куда хотите сохранить проект, и выполните в нём команду
   ```
   git clone https://github.com/hdito/minimarkdown.git
   ```
2. Перейдите в папку и установите необходимые зависимости при помощи своего пакетного менеджера.
   
   npm:
   ```
   npm install
   ```

   Yarn:
   ```
   yarn
   ```

   pnpm:
   ```
   pnpm install
   ```

3. Зарегистрируйте новое web-приложение в Firebase Console. Вам должны выдать конфиг для работы с Firebase. Создайте в корне проекта файл `.env.development` и перепишите в него данные из `firebaseConfig`, заменяя формат ключей с camelCase на CONSTANT_CASE и добавляя к ним префикс `-VITE`. Таким образом, строка из конфига `apiKey: "ABCabc123"` должна выглядеть, как `VITE_API_KEY=ABCabc123`.
4. Если вы ещё не привязали Firebase CLI к своему аккаунту, сделайте это, выполнив в терминале
   
   ```
   firebase login
   ```

   После этого вы сможете инициализировать Firebase внутри вашей папки с проектом командой
   
   ```
   firebase init
   ```
   
   В появившемся окне подключите к проекту Firestore Database, выбрав для правил безопасности существующий файл `firebase.rules`, и привяжите созданный для Minimarkdown проект Firebase. 
5. Для обновления правил доступа к базе данных вы можете либо вручную ввести содержимое файла `firestore.rules` в настройках Firebase Firestore вашего проекта в Firebase Console, либо выполнить в терминале команду
    
   ```
   firebase deploy --only frestore:rules
   ```

6. Для запуска локального сервера для разработки выполните через свой пакетный менеджер команду `dev`
   
   npm:
   ```
   npm run dev
   ```

   Yarn:
   ```
   yarn run dev
   ```

   pnpm:
   ```
   pnpm dev
   ```
   
   Во время запуска сервера Vite подгрузит переменные среды из `.env.development`.

## Сборка приложения
Рекомендуется иметь отдельные проекты Firebase для разработки и продакшена. В таком случае, работая над приложением, вы не рискуете исказить пользовательские данные.

Если вы планируете использовать отдельные проекты, настройте проект для продакшена аналогично первому (исключение: в настройках аутентификации можно убрать из списка доступных для запросов доменов `localhost`, необходимый лишь при разработке). Его конфиг разместите в файле `.env.production`. Во время сборки приложения Vite будет использовать данные из него. Добавить проект к Minimarkdown можно командой `firebase use --add`. А для переключения между проектами Firebase используйте `firebase use <alias>`, где `<alias>` вы назначаете при выполнении предыдущей команды.

Если же вы хотите использовать один проект, то переименуйте свой файл с конфигом в `.env`. В таком случае Vite будет использовать из него данные и для локального сервера, и для сборки.

Чтобы собрать приложение для продакшена, выполните в терминале команду `build` через свой пакетный менеджер. 

npm:
```
npm run build
```

Yarn:
```
yarn run build
```

pnpm:
```
pnpm build
```

## Контакты
Если хотите связаться со мной, вы можете написать мне по адресу hditow@gmail.com.