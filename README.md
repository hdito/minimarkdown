# Minimarkdown
Минималистичный текстовый редактор с поддержкой Markdown.

## Настройка рабочей среды
Чтобы работать над Minimarkdown, вам потребуется новый проект [Firebase](https://console.firebase.google.com/) с подключенными Firestore Database и анонимной аутентификацией, [Firebase CLI](https://firebase.google.com/docs/cli) и Node.js.

1. Откройте терминал в папке, куда хотите сохранить проект, и выполните в нём команду
   ```
   git clone https://github.com/hdito/minimarkdown.git
   ```
2. Перейдите в папку и установите необходимые зависимости при помощи своего пакетного менеджера.
   
   С npm это можно сделать следующими командами:
   ```
   cd minimarkdown
   npm install
   ```
3. Зарегистрируйте новое web-приложение в Firebase Console. Вам должны выдать конфиг для Firebase. Создайте для него в корне проекта файл `.env.development` и скопируйте в него данные из `firebaseConfig`. При этом ключи должны быть написаны заглавными буквами с нижним подчёркиванием между словами и иметь префикс `-VITE`, у значений необходимо убрать кавычки, и между ключом и значением должно стоять `=`, а не `: `. Таким образом, строка из конфига `apiKey: "ABCabc123"` в файле `.env.development` должна выглядеть, как `VITE_API_KEY=ABCabc123`.
4. Если вы ещё не привязали Firebase CLI к своему аккаунту, сделайте это при помощи команды в терминале `firebase login`. После этого вы сможете инициализировать Firebase внутри вашей папки с проектом командой ```firebase init```. В появившемся окне выберите созданный для Minimarkdown проект и включите к нему поддержку Firestore Database.
5. Для обновления правил доступа к Firestore Database вы можете либо вручную скопировать содержимое файла `firestore.rules` и вставить их настройках базы данных в Firebase Console, либо выполнить в терминале команду ```firebase deploy --only frestore:rules```
6. Для запуска локального сервера выполните через свой пакетный менеджер команду `dev`
   
   npm:
   ```npm run dev```

## Сборка приложения
Рекомендуется иметь отдельные проекты Firebase для разработки и продакшена. В таком случае, работая над приложением, вы не рискуете исказить пользовательские данные.

Если вы планируете использовать отдельные проекты, настройте проект для продакшена аналогично первому (только в настройках аутентифицкации можно убрать из списка доступных доменов для запросов `localhost`, необходимый лишь при разработке). Его конфиг разместите в файле `.env.production`. Во время сборки приложения Vite будет использовать данные из него. Добавить проект к Minimarkdown можно командой `firebase use --add`. А для переключения между проектами Firebase используйте `firebase use <alias>`, где <alias> вы назначаете при выполнении предыдущей команды.

Если же вы хотите использовать один проект, то переименуйте свой файл с конфигом в `.env`. В таком случае Vite будет использовать из него данные  и во время разработки, и во время сборки.

Для сборки приложения выполните в терминале команду `build` через свой пакетный менеджер. 

npm:
```
npm run build
```

## Контакты
Если хотите связаться со мной, вы можете написать мне по адресу hditow@gmail.com.